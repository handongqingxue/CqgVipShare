<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 <mapper namespace="com.cqgVipShare.dao.CapFlowRecMapper">
 	<select id="selectCapFlowRecInt" resultType="java.lang.Integer">
 		select count(*) from
 		((select uuid,c.vipId,sv.`no`,md.shopName,md.shopAddress ,kz.nickName kzNickName,fxz.nickName fxzNickName,s.shareMoney,s.phone,ygxfDate,c.createTime,state from capital_flow_record c,share_record s,`user` kz,`user` fxz,share_vip sv,`user` md where c.srUuid=s.uuid and s.kzOpenId=kz.openId and s.fxzOpenId=fxz.openId and c.vipId=sv.id and sv.shopId=md.id and c.state=0)
		UNION
		(select uuid,c.vipId,sv.`no`,md.shopName,md.shopAddress,kz.nickName kzNickName,fxz.nickName fxzNickName,s.shareMoney,s.phone,ygxfDate,c.createTime,state from capital_flow_record c,share_history_record s,`user` kz,`user` fxz,share_vip sv,`user` md where c.srUuid=s.uuid and s.kzOpenId=kz.openId and s.fxzOpenId=fxz.openId and c.vipId=sv.id and sv.shopId=md.id and c.state=1)) t
 	</select>
 	<select id="selectCapFlowRecList" resultType="com.cqgVipShare.entity.CapitalFlowRecord">
 		(select uuid,c.vipId,sv.`no`,md.shopName,md.shopAddress ,kz.nickName kzNickName,fxz.nickName fxzNickName,s.shareMoney,s.phone,ygxfDate,c.createTime,state from capital_flow_record c,share_record s,`user` kz,`user` fxz,share_vip sv,`user` md where c.srUuid=s.uuid and s.kzOpenId=kz.openId and s.fxzOpenId=fxz.openId and c.vipId=sv.id and sv.shopId=md.id and c.state=0)
		UNION
		(select uuid,c.vipId,sv.`no`,md.shopName,md.shopAddress,kz.nickName kzNickName,fxz.nickName fxzNickName,s.shareMoney,s.phone,ygxfDate,c.createTime,state from capital_flow_record c,share_history_record s,`user` kz,`user` fxz,share_vip sv,`user` md where c.srUuid=s.uuid and s.kzOpenId=kz.openId and s.fxzOpenId=fxz.openId and c.vipId=sv.id and sv.shopId=md.id and c.state=1)
 	</select>
 	<select id="exportCapFlowRecList" resultType="com.cqgVipShare.entity.CapitalFlowRecord">
 		(select uuid,c.vipId,sv.`no`,md.shopName,md.shopAddress ,kz.nickName kzNickName,fxz.nickName fxzNickName,s.shareMoney,s.phone,ygxfDate,c.createTime,state from capital_flow_record c,share_record s,`user` kz,`user` fxz,share_vip sv,`user` md where c.srUuid=s.uuid and s.kzOpenId=kz.openId and s.fxzOpenId=fxz.openId and c.vipId=sv.id and sv.shopId=md.id and c.state=0)
		UNION
		(select uuid,c.vipId,sv.`no`,md.shopName,md.shopAddress,kz.nickName kzNickName,fxz.nickName fxzNickName,s.shareMoney,s.phone,ygxfDate,c.createTime,state from capital_flow_record c,share_history_record s,`user` kz,`user` fxz,share_vip sv,`user` md where c.srUuid=s.uuid and s.kzOpenId=kz.openId and s.fxzOpenId=fxz.openId and c.vipId=sv.id and sv.shopId=md.id and c.state=1)
 	</select>
 </mapper>